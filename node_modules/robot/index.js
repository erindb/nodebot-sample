var sleep = require('sleep');
var io = require('socket.io-client');

module.exports = {
	connect: function() {
		var socket = io.connect('http://localhost:3000');
		socket.on('connect',function() {
		  console.log('Client has connected to the server!');
		});
		sleep.sleep(10);
		return socket;
	},
	sleep: sleep.sleep,
	delay: function(action, seconds) {
		var waitTill = new Date(
			new Date().getTime() + 2//(seconds * 1000)
		);
		while(waitTill > new Date()){};
		return action();
	},
	moveForward: function(socket) {
	    socket.emit('start');
	},
	turnRight: function(socket) {
	    socket.emit('right');
	},
	turnLeft: function(socket) {
	    socket.emit('left');
	},
	moveReverse: function(socket) {
	    socket.emit('reverse');
	},
	stop: function(socket) {
	    socket.emit('stop');
	},
	reverseRight: function() {
	    socket.emit('reverse-right');
	}
};